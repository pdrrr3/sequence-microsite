@layer components {
  .animated-boxes {
    @apply absolute inset-0;
    display: flex;
    justify-content: center;
    align-items: center;
  }
}

.animated-boxes {
  position: relative;
  min-height: 600px;
}

.animated-boxes svg {
  overflow: visible; /* some browsers might clip svgs regardless of overflow rule. Might need to restructure boxes/text to not rely on overflow */
  position: absolute;
}

.animated-boxes .box-sdk .box3d,
.animated-boxes .box-wallet .box3d,
.animated-boxes .box-sequence {
  opacity: 0;
}

.animated-boxes {
  will-change: opacity, transform;
}

.animated-boxes .box,
.animated-boxes .box .box3d,
.animated-boxes .box .box-text {
  animation-duration: 7s;
  animation-timing-function: cubic-bezier(0.45, 0, 0.55, 1);
  animation-fill-mode: forwards;
  animation-direction: alternate;
  animation-play-state: paused;
  animation-iteration-count: infinite;
}

.animated-boxes.animate-out .box,
.animated-boxes.animate-out .box .box3d,
.animated-boxes.animate-out .box .box-text {
  animation-duration: 1s;
}

.animated-boxes.active .box,
.animated-boxes.active .box .box3d,
.animated-boxes.active .box-text {
  animation-play-state: running;
}

.animated-boxes .box-eth .box-text {
  animation-name: animate-box-eth-text-in;
}

.animated-boxes .box-sdk .box-text {
  animation-name: animate-box-sdk-text-in;
}

.animated-boxes .box-wallet .box-text {
  animation-name: animate-box-wallet-text-in;
}

.animated-boxes.animate-out .box-eth .box-text {
  animation-name: animate-box-eth-text-out;
}

.animated-boxes.animate-out .box-sdk .box-text {
  animation-name: animate-box-sdk-text-out;
}

.animated-boxes.animate-out .box-wallet .box-text {
  animation-name: animate-box-wallet-text-out;
}

.animated-boxes .box-sdk .box3d {
  animation-name: animate-box-sdk-in;
}

.animated-boxes .box-wallet .box3d {
  animation-name: animate-box-wallet-in;
}

.animated-boxes .box-sdk .box3d,
.animated-boxes .box-wallet .box3d,
.animated-boxes .box-sdk,
.animated-boxes .box-wallet {
  z-index: 3;
}

.animated-boxes .box-sequence {
  transform: translateY(-30px);
  z-index: 4;
  animation-name: animate-box-sequence-in;
}

.animated-boxes.animate-out .box-sdk .box3d {
  animation-name: animate-box-sdk-out;
}

.animated-boxes.animate-out .box-wallet .box3d {
  animation-name: animate-box-wallet-out;
}

.animated-boxes.animate-out .box-sequence {
  animation-name: animate-box-sequence-out;
}

.animated-boxes .box-text {
  opacity: 0;
}

@media (max-width: 700px) {
  .animated-boxes {
    width: 400px;
    left: 30px;
    transform: scale(0.5);
  }
}

@media (min-width: 700px) {
  .animated-boxes {
    width: 400px;
    left: 50px;
    transform: scale(0.65);
  }
}

@media (min-width: 1200px) {
  .animated-boxes {
    width: 400px;
    transform: scale(0.8);
  }
}

@keyframes animate-box-sdk-in {
  0% {
    opacity: 0;
  }
  0% {
    transform: translateY(-200px);
    animation-timing-function: cubic-bezier(0, 1, 0.75, 1);
  }
  10% {
    opacity: 1;
  }
  25%,
  60% {
    transform: translateY(-40px);
    animation-timing-function: cubic-bezier(0.35, 0, 0.35, 1);
  }
  80% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
  80%,
  100% {
    transform: translateY(-20px);
  }
}

@keyframes animate-box-wallet-in {
  25% {
    opacity: 0;
  }
  25% {
    transform: translateY(-200px);
    animation-timing-function: cubic-bezier(0, 1, 0.75, 1);
  }
  35% {
    opacity: 1;
  }
  50%,
  60% {
    transform: translateY(-80px);
    animation-timing-function: cubic-bezier(0.35, 0, 0.35, 1);
  }
  80% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
  80%,
  100% {
    transform: translateY(-30px);
  }
}

@keyframes animate-box-sequence-in {
  0%,
  70% {
    opacity: 0;
  }
  80%,
  100% {
    opacity: 1;
  }
}

@keyframes animate-box-eth-text-in {
  0% {
    opacity: 1;
  }
  60% {
    opacity: 1;
    animation-timing-function: cubic-bezier(0.35, 0, 0.35, 1);
  }
  80% {
    opacity: 0;
  }
}

@keyframes animate-box-sdk-text-in {
  0% {
    opacity: 0;
    transform: translateY(-30px);
  }
  10% {
    opacity: 1;
  }
  60% {
    opacity: 1;
    transform: translateY(-30px);
    animation-timing-function: cubic-bezier(0.35, 0, 0.35, 1);
  }
  80% {
    opacity: 0;
    transform: translateY(-20px);
  }
}

@keyframes animate-box-wallet-text-in {
  0% {
    opacity: 0;
    transform: translateY(-60px);
  }
  25% {
    opacity: 0;
  }
  35% {
    opacity: 1;
  }
  60% {
    opacity: 1;
    transform: translateY(-60px);
    animation-timing-function: cubic-bezier(0.35, 0, 0.35, 1);
  }
  80% {
    opacity: 0;
    transform: translateY(-40px);
  }
}

@keyframes animate-box-sdk-out {
  0% {
    opacity: 0;
    transform: translateY(-15px);
  }
  100% {
    opacity: 1;
    transform: translateY(-40px);
  }
}

@keyframes animate-box-wallet-out {
  0% {
    opacity: 0;
    transform: translateY(-30px);
  }
  100% {
    opacity: 1;
    transform: translateY(-80px);
  }
}

@keyframes animate-box-sequence-out {
  0% {
    opacity: 1;
  }
  60% {
    opacity: 0;
  }
}

@keyframes animate-box-eth-text-out {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

@keyframes animate-box-sdk-text-out {
  0% {
    opacity: 0;
    transform: translateY(-20px);
  }
  100% {
    opacity: 1;
    transform: translateY(-30px);
  }
}

@keyframes animate-box-wallet-text-out {
  0% {
    opacity: 0;
    transform: translateY(-40px);
  }
  100% {
    opacity: 1;
    transform: translateY(-60px);
  }
}
